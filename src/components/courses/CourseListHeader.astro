---
import { Image } from "astro:assets";
import { useTranslations } from "../../i18n/utils";
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';

import grottes1Image from "../../images/courses/grottes-1.jpg";
import grottes2Image from "../../images/courses/grottes-2.jpg";

const lang = Astro.currentLocale as "fr" | "en";
const t = useTranslations(lang);
---

<style>
  .workshop-slider {
    --swiper-theme-color: #ecfccb;
    --swiper-navigation-size: 25px;
  }
</style>

<div class="bg-lime-800 text-lime-200 w-full">
  <h1 class="max-w-screen-lg text-6xl p-8 oswald">
    {t("courses.title")}
  </h1>
</div>

<div class="bg-lime-600 text-lime-100 w-full">
  <div class="max-w-screen-lg mx-auto flex flex-col gap-4 sm:flex-row items-center p-8">
    <div class="w-full sm:w-1/2 md:w-2/3 lg:w-3/4">
      { 'en' === lang ? (
        <p class="mb-4">
          For 6 years now, Backbeat has been offering weekly classes - to
          discover Lindy Hop week after week; to build a friendly group;
          to laugh together; to gradually immerse ourselves in jazz dance
          culture.
        </p>
        <p class="mb-4">
          Generally, our classes are shared by different teachers who share
          Backbeat's values: human warmth, interest in jazz culture, and a firm
          commitment to making everyone feel welcome.
        </p>
        ) : (
        <p class="mb-4">
          Depuis 6 ans maintenant, Backbeat propose des cours hebdomadaires - pour
          découvrir le Lindy Hop semaine après semaine; pour forger un groupe
          sympa; pour rire ensemble; pour entrer peu à peu dans la culture des
          danses jazz. 
        </p>
        <p class="mb-4">
          En général, nos cours sont partagés par différents professeurs, qui
          partagent les valeurs de Backbeat: chaleur humaine, intérêt pour la
          culture jazz, engagement décidé pour que tout le monde se sente
          bienvenu·e·x.
        </p>
        )
      }
    </div>
    <div class="w-full hidden sm:block sm:w-1/2 md:w-1/3 lg:w-1/4 mb-6 md:mb-0">
      <div class="swiper workshop-slider max-w-[320px] mx-auto">
        <div class="swiper-wrapper">
          <div class="swiper-slide flex justify-center">
            <Image
              src={grottes1Image}
              alt="Ecole des Grottes"
              class="rounded-lg"
            />
          </div>
          <div class="swiper-slide flex justify-center">
            <Image
              src={grottes2Image}
              alt="Ecole des Grottes"
              class="rounded-lg"
            />
          </div>
        </div>
        <div class="swiper-pagination max-w-[320px] mx-auto"></div>
      </div>
    </div>
  </div>
</div>

<script>
import Swiper from 'swiper';
import { Autoplay, Pagination } from 'swiper/modules';

new Swiper('.workshop-slider', {
  modules: [Pagination, Autoplay],
  slidesPerView: 1,
  spaceBetween: 30,
  loop: true,
  autoplay: {
    delay: 3000,
    disableOnInteraction: false,
  },
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },
});
</script>
