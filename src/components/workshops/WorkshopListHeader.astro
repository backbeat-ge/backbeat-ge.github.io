---
import { Image } from "astro:assets";
import { useTranslations } from "../../i18n/utils";
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';

import dalcrozeOne from "../../images/workshops/dalcroze-1.jpg";
import dalcrozeTwo from "../../images/workshops/dalcroze-2.jpg";

const lang = Astro.currentLocale as "fr" | "en";
const t = useTranslations(lang);
---

<style>
  .workshop-slider {
    --swiper-theme-color: #fecdd3;
    --swiper-navigation-size: 25px;
  }
</style>

<div class="bg-pink-800 text-pink-200 w-full">
  <h1 class="max-w-screen-lg text-6xl p-8 oswald">
    {t("page.workshops.title")}
  </h1>
</div>

<div class="bg-pink-600 text-pink-100 w-full">
  <div class="max-w-screen-lg mx-auto flex flex-col gap-4 sm:flex-row items-center p-8">
    <div class="w-full sm:w-1/2 md:w-2/3 lg:w-3/4">
      { 'en' === lang ? (
        <p class="mb-4">
          Intense weekends, of Lindy Hop and Solo Jazz, with guest teachers of the
          highest level!  
        </p>
        <p class="mb-4">
          Adapted to all levels, from beginner to experienced.
        </p>
        <p class="mb-4">
          An opportunity to discover, or go further.
        </p>
        ) : (
          <p class="mb-4">
            Des weekends intenses, de Lindy Hop et Solo Jazz, avec des profs invité.e.s de ouf!
          </p>
          <p class="mb-4">
            Des cours adaptés à tous les niveaux, de débutant à expérimenté.
          </p>
          <p class="mb-4">
            Une occasion en or pour découvrir, ou aller plus loin.
          </p>
        )
      }
    </div>
    <div class="w-full hidden sm:block sm:w-1/2 md:w-1/3 lg:w-1/4 mb-6 md:mb-0">
      <div class="swiper workshop-slider max-w-[320px] mx-auto">
        <div class="swiper-wrapper">
          <div class="swiper-slide flex justify-center">
            <Image
              src={dalcrozeOne}
              alt="Institute Jaques Dalcroze"
              class="rounded-lg"
            />
          </div>
          <div class="swiper-slide flex justify-center">
            <Image
              src={dalcrozeTwo}
              alt="Institute Jaques Dalcroze"
              class="rounded-lg"
            />
          </div>
        </div>
        <div class="swiper-pagination max-w-[320px] mx-auto"></div>
      </div>
    </div>
  </div>
</div>

<script>
  import Swiper from 'swiper';
import { Autoplay, Pagination } from 'swiper/modules';

  new Swiper('.workshop-slider', {
    modules: [Pagination, Autoplay],
    slidesPerView: 1,
    spaceBetween: 30,
    loop: true,
    autoplay: {
      delay: 3000,
      disableOnInteraction: false,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
  });
</script>
